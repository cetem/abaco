<%= simple_form_for(@outflow) do |f| %>
  <%= f.error_notification %>
  <% if @outflow.errors[:operator_id].present? %>
    <% change_operator_field_errors(@outflow) %>
  <% end %>

  <div class="form-inputs">
    <div class="row-fluid">
      <div class="span4">
        <%= f.input :kind, collection: kind_selector_for_outflow, prompt: false,
          input_html: {class: 'span10'} %>
      </div>
      <div class="span3">
        <%= f.input :bill %>
      </div>
      <div class="span3">
        <%= f.input :provider %>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span4">
        <%= f.input :amount, as: :string %>
      </div>
      <div class="span3">
        <%= f.label :operator_id %>
        <%= f.input :auto_operator_name, label: false, input_html: {
          value: @outflow.try(:operator_name), class: 'autocomplete-field',
          data: {
            'autocomplete-id-target' => '#outflow_operator_id',
            'autocomplete-url' => autocomplete_for_operator_outflows_path(format: :json)
          }
        } %>
        <%= f.input :operator_id, as: :hidden,
          input_html: { class: 'autocomplete-id', value: @outflow.try(:operator_id) } %>
      </div>
      <div class="span3">
        <%= f.input :bought_at, as: :date_picker %>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span4">
        <%= f.input :file %>
        <%= f.input :file_cache, as: :hidden %>
      </div>
      <div class="span4">
        <%= f.input :charged_by %>
      </div>
    </div>
    <%= f.input :comment, input_html: { rows: 5, class: 'span10'} %>
  </div>


  <div class="form-actions">
    <div class="pull-right"><%= yield :form_actions %></div>
    <%= f.input :lock_version, as: :hidden %>
    <%= f.button :submit, class: 'btn btn-primary' %>
  </div>
<% end %>
